{% extends "layout.html" %}
{% block content %}
<h2>{{ lesson_data.title }}</h2>
<p>{{ lesson_data.content }}</p>
{% if lesson_data.video %}
<iframe width="560" height="315" src="{{ lesson_data.video }}" frameborder="0" allowfullscreen></iframe>
{% endif %}

{% if lesson_data.type == "interactive" %}
<!-- Interactive Piano -->
<div id="piano-wrapper">
    <div id="piano">
        <div class="key white" data-note="C">C</div>
        <div class="key white" data-note="D">D</div>
        <div class="key white" data-note="E">E</div>
        <div class="key white" data-note="F">F</div>
        <div class="key white" data-note="G">G</div>
        <div class="key white" data-note="A">A</div>
        <div class="key white" data-note="B">B</div>
    </div>
</div>
<audio id="audio-player" src=""></audio>


<!-- Chord Check Button -->
<div class="mt-3">
    <button class="btn btn-info" id="submit-chord">Check Chord</button>
    <p id="chord-feedback" class="mt-2"></p>
</div>
{% endif %}

{% set next_lesson = lesson_data.lesson + 1 %}
{% if next_lesson > 3 %}
<a class="btn btn-success mt-4" href="/quiz/1">Go to Quiz</a>
{% else %}
<a class="btn btn-secondary mt-4" href="/learn/{{ next_lesson }}">Next</a>
{% endif %}

<script src="{{ url_for('static', filename='learn.js') }}"></script>
{% endblock %}
